<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Flash Cards CCNA por Tema</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Open+Sans&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box;margin:0;padding:0;}
    body{
      background:#1E1E1E;color:#FFF;font-family:'Open Sans',sans-serif;padding:20px;display:flex;flex-direction:column;align-items:center;
    }
    h1,h2,h3{
      font-family:'Cinzel',serif;color:#D4AF37;margin-bottom:20px;text-shadow:0 0 5px rgba(212,175,55,0.8);
    }
    button{
      cursor:pointer;background:#D4AF37;color:#1E1E1E;border:none;border-radius:6px;padding:8px 12px;font-weight:bold;transition:.3s;
    }
    button:hover{transform:scale(1.05);background:#E1C16E;}
    form{
      width:320px;background:linear-gradient(#2F2F2F,#242424);border:2px solid #D4AF37;border-radius:8px;padding:20px;margin-bottom:30px;box-shadow:0 0 15px rgba(212,175,55,0.3);
    }
    form label{display:block;margin-bottom:5px;color:#D4AF37;font-weight:bold;}
    form input{
      width:100%;margin-bottom:15px;padding:10px;border:2px solid #D4AF37;border-radius:6px;background:#1E1E1E;color:#FFF;
    }
    .container{width:100%;max-width:1200px;}
    .cards{display:flex;flex-wrap:wrap;gap:20px;margin-bottom:30px;justify-content:center;}
    .card,.tema{
      width:260px;height:380px;perspective:1000px;position:relative;animation:fadeIn .6s forwards;opacity:0;
    }
    .card-inner{
      width:100%;height:100%;transition:.6s;transform-style:preserve-3d;position:relative;
    }
    .card.flip .card-inner{transform:rotateY(180deg);}
    .card-side{
      position:absolute;width:100%;height:100%;backface-visibility:hidden;border:2px solid #D4AF37;border-radius:10px;box-shadow:0 0 15px rgba(212,175,55,0.3);display:flex;flex-direction:column;justify-content:center;align-items:center;background:linear-gradient(#2F2F2F,#1E1E1E);padding:15px;text-align:center;
    }
    .card-back{transform:rotateY(180deg);}
    .remove-btn{
      position:absolute;top:5px;right:5px;background:#B22222;color:#FFF;border:none;border-radius:50%;width:30px;height:30px;cursor:pointer;font-size:18px;line-height:30px;
    }
    @keyframes fadeIn{to{opacity:1;}}
  </style>
</head>
<body>

<h1>Flash Cards CCNA</h1>

<form id="flashcard-form">
  <label>Tema:</label><input id="theme" required placeholder="Digite o tema">
  <label>Pergunta:</label><input id="question" required placeholder="Digite a pergunta">
  <label>Resposta:</label><input id="answer" required placeholder="Digite a resposta">
  <button type="submit">Adicionar Flashcard</button>
</form>

<div class="container" id="container"></div>

<script>
const container=document.getElementById('container');
let flashcards=JSON.parse(localStorage.getItem('flashcards'))||[];

function salvar(){localStorage.setItem('flashcards',JSON.stringify(flashcards));}

function mostrarTemas(){
  container.innerHTML='';
  const temas=[...new Set(flashcards.map(f=>f.theme))];
  if(!temas.length)container.innerHTML='<p>Nenhum tema cadastrado.</p>';

  const cards=document.createElement('div');cards.className='cards';
  temas.forEach((tema,i)=>{
    const div=document.createElement('div');div.className='tema';
    div.style.animationDelay=`${i*0.1}s`;
    div.innerHTML=`
      <div class="card-inner">
        <div class="card-side">
          <h3>${tema}</h3>
          <button onclick="abrirTema('${tema}')">Abrir</button>
          <button class="remove-btn" onclick="removerTema(event,'${tema}')">&times;</button>
        </div>
      </div>`;
    cards.appendChild(div);
  });
  container.appendChild(cards);
}

function abrirTema(tema){
  container.innerHTML=`<button onclick="mostrarTemas()">Voltar aos Temas</button><h2>${tema}</h2>`;
  const cards=document.createElement('div');cards.className='cards';

  flashcards.filter(f=>f.theme===tema).forEach((card,i)=>{
    const div=document.createElement('div');div.className='card';
    div.style.animationDelay=`${i*0.1}s`;
    div.innerHTML=`
      <div class="card-inner">
        <div class="card-side card-front"><h3>Pergunta</h3><p>${card.question}</p></div>
        <div class="card-side card-back"><h3>Resposta</h3><p>${card.answer}</p></div>
      </div>
      <button class="remove-btn" onclick="removerCard(event,${flashcards.indexOf(card)},'${tema}')">&times;</button>`;
    div.onclick=e=>!e.target.classList.contains('remove-btn')&&div.classList.toggle('flip');
    cards.appendChild(div);
  });
  container.appendChild(cards);
}

function removerTema(e,tema){
  e.stopPropagation();
  if(confirm(`Excluir tema "${tema}"?`)){
    flashcards=flashcards.filter(f=>f.theme!==tema);salvar();mostrarTemas();
  }
}

function removerCard(e,idx,tema){
  e.stopPropagation();
  if(confirm('Excluir este card?')){
    flashcards.splice(idx,1);salvar();abrirTema(tema);
  }
}

document.getElementById('flashcard-form').onsubmit=e=>{
  e.preventDefault();
  flashcards.push({theme:theme.value.trim(),question:question.value.trim(),answer:answer.value.trim()});
  salvar();e.target.reset();mostrarTemas();
};

mostrarTemas();
</script>
</body>
</html>
